{"ast":null,"code":"// @ is an alias to /src\n//import HomeForm from '@/components/HomeForm.vue'\nimport { ref } from \"vue\";\nconst options1 = ref({});\nconst series1 = ref([]);\nconst options2 = ref({});\nconst series2 = ref([]);\nconst options3 = ref({});\nconst series3 = ref([]);\nexport default {\n  name: 'HomeView',\n  components: {\n    //HomeForm\n  },\n  methods: {\n    async submitData() {\n      if (document.querySelector('input[name=\"experience\"]').value == \"\") {\n        alert(\"Please enter your experience.\");\n      } else if (document.querySelector('select[name=\"language\"]').value == \"\") {\n        alert(\"Please enter your preferred language.\");\n      } else {\n        var response = await fetch('/api/submit', {\n          method: \"POST\",\n          // Set the headers\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          // Set the post data\n          body: JSON.stringify({\n            gender: document.querySelector('input[name=\"gender\"]:checked').value,\n            experience: document.querySelector('input[name=\"experience\"]').value,\n            language: document.querySelector('select[name=\"language\"]').value,\n            windows: document.querySelector('input[name=\"windows\"]').value,\n            linux: document.querySelector('input[name=\"linux\"]').value,\n            macos: document.querySelector('input[name=\"macos\"]').value\n          })\n        });\n        if (response.ok) {\n          this.loadCharts();\n          let container = document.getElementById('one');\n          document.onwheel = function () {\n            document.body.parentNode.scrollTo({\n              top: container.offsetTop,\n              left: 0,\n              behavior: 'smooth'\n            });\n          };\n        }\n      }\n    },\n    loadCharts() {\n      this.loadChartLanguage(false);\n      this.loadChartExperience();\n      this.loadChartFamiliarity();\n      const nodeList = document.querySelectorAll('.chart');\n      for (let i = 0; i < nodeList.length; i++) {\n        nodeList[i].style.display = \"block\";\n      }\n    },\n    async loadChartLanguage(update) {\n      var filter = document.querySelector('select[name=\"filter\"]').value;\n      var response1 = await fetch(\"/api/chart/language/\" + filter);\n      if (response1.ok) {\n        var language = await response1.json();\n        series1.value = language.map(a => a.count);\n        if (update != true) {\n          options1.value = {\n            labels: language.map(a => a._id),\n            title: {\n              text: \"Surveyed Users' Preferred Language\"\n            }\n          };\n        }\n      }\n    },\n    async loadChartExperience() {\n      var response2 = await fetch(\"/api/chart/experience/\");\n      if (response2.ok) {\n        var experience = await response2.json();\n        options2.value = {\n          series: [{\n            name: 'Experience',\n            data: experience.map(a => a.count)\n          }],\n          xaxis: {\n            title: {\n              text: 'Experience (years)'\n            },\n            categories: experience.map(a => (a._id * 5).toString() + \"-\" + (a._id * 5 + 4).toString())\n          },\n          yaxis: {\n            title: {\n              text: 'Number of users'\n            }\n          },\n          title: {\n            text: 'Experience of Surveyed Users',\n            align: 'center'\n          }\n        };\n      }\n    },\n    async loadChartFamiliarity() {\n      var response3 = await fetch(\"/api/chart/familiarity/\");\n      if (response3.ok) {\n        var familiarity = await response3.json();\n        console.log(familiarity);\n        options3.value = {\n          series: [{\n            name: 'Familiarity',\n            data: [familiarity[0].Windows, familiarity[0].Linux, familiarity[0].MacOS]\n          }],\n          xaxis: {\n            categories: [\"Windows\", \"Linux\", \"MacOS\"]\n          },\n          title: {\n            text: 'Familiarity with Different Operating Systems Among Surveyed Users'\n          }\n        };\n      }\n    }\n  },\n  setup() {\n    return {\n      options1,\n      series1,\n      options2,\n      series2,\n      options3,\n      series3\n    };\n  }\n};","map":{"version":3,"mappings":"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","names":["ref","options1","series1","options2","series2","options3","series3","name","components","methods","submitData","document","querySelector","value","alert","response","fetch","method","headers","body","JSON","stringify","gender","experience","language","windows","linux","macos","ok","loadCharts","container","getElementById","onwheel","parentNode","scrollTo","top","offsetTop","left","behavior","loadChartLanguage","loadChartExperience","loadChartFamiliarity","nodeList","querySelectorAll","i","length","style","display","update","filter","response1","json","map","a","count","labels","_id","title","text","response2","series","data","xaxis","categories","toString","yaxis","align","response3","familiarity","console","log","Windows","Linux","MacOS","setup"],"sourceRoot":"","sources":["C:\\Users\\Thomas Tsoi\\OneDrive\\DAAI\\COMP7270 Web and Mobile Programming\\assign02-vue\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\n  <h1 name=\"\">COMP7270 Web and Mobile Programming</h1>\n\n  <div class=\"container\">\n\n    <nav id=\"navbar-example2\" class=\"navbar navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">Programmer Survey Form</a>\n      <ul class=\"nav nav-pills\">\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"#survey\">survey</a>\n        </li>\n        <li class=\"nav-item chart\">\n          <a class=\"nav-link\" href=\"#one\">one</a>\n        </li>\n        <li class=\"nav-item chart\">\n          <a class=\"nav-link\" href=\"#two\">two</a>\n        </li>\n        <li class=\"nav-item chart\">\n          <a class=\"nav-link\" href=\"#three\">three</a>\n        </li>\n      </ul>\n    </nav>\n    <div id=\"content\">\n\n\n      <div id=\"survey\" class=\"row justify-content-md-center section\">\n        <div class=\"col col-lg-8\">\n          <div class=\"card\">\n            <div class=\"card-header text-center\">\n              survey\n            </div>\n            <div class=\"card-body text-start\">\n\n              <fieldset class=\"form-group mb-3\">\n                <div class=\"row\">\n                  <legend class=\"col-form-label col-sm-3 pt-0\">Gender</legend>\n                  <div class=\"col-sm-9\">\n                    <div class=\"form-check\">\n                      <input class=\"form-check-input\" type=\"radio\" name=\"gender\" id=\"gridRadios1\" value=\"m\" checked>\n                      <label class=\"form-check-label\" for=\"gridRadios1\">Male</label>\n                    </div>\n                    <div class=\"form-check\">\n                      <input class=\"form-check-input\" type=\"radio\" name=\"gender\" id=\"gridRadios2\" value=\"f\">\n                      <label class=\"form-check-label\" for=\"gridRadios2\">Female</label>\n                    </div>\n                  </div>\n                </div>\n              </fieldset>\n              <div class=\"form-group row mb-3\">\n                <label for=\"inputEmail3\" class=\"col-sm-3 col-form-label\">Experience (years)</label>\n                <div class=\"col-sm-9\">\n                  <div class=\"input-group\">\n                    <input type=\"number\" class=\"form-control\" name=\"experience\" id=\"experience\" min=\"0\" max=\"100\" placeholder=\"1\" aria-describedby=\"basic-addon2\" required>\n                    <div class=\"input-group-append\">\n                      <div class=\"input-group-text\" id=\"basic-addon2\">year(s)</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-group row mb-3\">\n                <div class=\"col-sm-3\">Preferred language</div>\n                <div class=\"col-sm-9\">\n                  <select class=\"form-control form-select\" name=\"language\" required>\n                    <option value=\"\" disabled selected>Select your preferred language</option>\n                    <option>C++</option>\n                    <option>Java</option>\n                    <option>JavaScript</option>\n                    <option>Objective C</option>\n                    <option>PHP</option>\n                    <option>Python</option>\n                  </select>\n                </div>\n              </div>\n              \n              <div class=\"form-group row mb-3\">\n                <label for=\"inputEmail3\" class=\"col-sm-3 col-form-label\">Familiarity with Windows</label>\n                <div class=\"col-sm-9\">\n                  <div class=\"input-group row\">\n                    <div class=\"col-sm-3 text-end d-none d-sm-block\">Poor</div>\n                    <div class=\"col-sm-6\">\n                      <input type=\"range\" class=\"form-range\" min=\"0\" max=\"5\" id=\"windows\" name=\"windows\">\n                    </div>\n                    <div class=\"col-sm-3 text-start d-none d-sm-block\">Excellent</div>\n                  </div>\n                </div>\n              </div>\n              \n              <div class=\"form-group row mb-3\">\n                <label for=\"inputEmail3\" class=\"col-sm-3 col-form-label\">Familiarity with Linux</label>\n                <div class=\"col-sm-9\">\n                  <div class=\"input-group row\">\n                    <div class=\"col-sm-3 text-end d-none d-sm-block\">Poor</div>\n                    <div class=\"col-sm-6\">\n                      <input type=\"range\" class=\"form-range\" min=\"0\" max=\"5\" id=\"windows\" name=\"linux\">\n                    </div>\n                    <div class=\"col-sm-3 text-start d-none d-sm-block\">Excellent</div>\n                  </div>\n                </div>\n              </div>\n              \n              <div class=\"form-group row mb-3\">\n                <label for=\"inputEmail3\" class=\"col-sm-3 col-form-label\">Familiarity with MacOS</label>\n                <div class=\"col-sm-9\">\n                  <div class=\"input-group row\">\n                    <div class=\"col-sm-3 text-end d-none d-sm-block\">Poor</div>\n                    <div class=\"col-sm-6\">\n                      <input type=\"range\" class=\"form-range\" min=\"0\" max=\"5\" id=\"windows\" name=\"macos\">\n                    </div>\n                    <div class=\"col-sm-3 text-start d-none d-sm-block\">Excellent</div>\n                  </div>\n                </div>\n              </div>\n\n              <datalist id=\"tickmarks\">\n                <option value=\"0\"></option>\n                <option value=\"25\"></option>\n                <option value=\"50\"></option>\n                <option value=\"75\"></option>\n                <option value=\"100\"></option>\n              </datalist>\n\n              <div class=\"form-group row mb-3\">\n                <div class=\"col-sm-6 text-start\">\n                  <button class=\"btn btn-primary\" @click=\"submitData\">Submit Data & View Charts</button>\n                </div>\n                <div class=\"col-sm-6 text-end\">\n                  <button class=\"btn btn-secondary\" @click=\"loadCharts\" ref=\"viewBtn\">View Charts Only</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n\n\n      <div id=\"one\" class=\"row justify-content-md-center section chart\">\n        <div class=\"col col-lg-8\">\n          <div class=\"card\">\n            <div class=\"card-header text-center\">\n              chart one\n            </div>\n            <div class=\"card-body text-start\">\n              <select class=\"form-control form-select mb-3\" name=\"filter\" @change=\"loadChartLanguage(true)\">\n                <option value=\"a\">Both Genders</option>\n                <option value=\"m\">Male only</option>\n                <option value=\"f\">Female only</option>\n              </select>\n\n              <div>\n                  <apexchart width=\"500\" type=\"donut\" :options=\"options1\" :series=\"series1\"></apexchart>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n      <div id=\"two\" class=\"row justify-content-md-center section chart\">\n        <div class=\"col col-lg-8\">\n          <div class=\"card\">\n            <div class=\"card-header text-center\">\n              chart two\n            </div>\n            <div class=\"card-body text-start\">\n              <div id=\"chart\">\n                <apexchart type=\"bar\" height=\"500\" :options=\"options2\" :series=\"series2\"></apexchart>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div id=\"three\" class=\"row justify-content-md-center section chart\">\n        <div class=\"col col-lg-8\">\n          <div class=\"card\">\n            <div class=\"card-header text-center\">\n              chart three\n            </div>\n            <div class=\"card-body text-start\">\n              <div id=\"chart\">\n                <apexchart type=\"radar\" height=\"500\" :options=\"options3\" :series=\"series3\"></apexchart>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n\n    </div>\n\n  </div>\n</template>\n\n\n<style>\nbody {\n  background-color:slategray;\n}\n\nnav.navbar {\n  position: sticky;\n  top: 0px;\n  padding: 10px 30px;\n  background-color:lightsteelblue !important;\n  border-top: 12px solid rgb(32,32,32);\n  color: rgb(32,32,32);\n  z-index: 100;\n}\n\n.navbar-brand {\n  text-transform:uppercase;\n}\n\nli.nav-item {\n  font-variant: small-caps;\n}\n\nh1 {\n  background: rgb(59,103,158);\n  background: -moz-linear-gradient(top,  rgba(59,103,158,1) 0%, rgba(43,136,217,1) 50%, rgba(32,124,202,1) 51%, rgba(125,185,232,1) 100%);\n  background: -webkit-linear-gradient(top,  rgba(59,103,158,1) 0%,rgba(43,136,217,1) 50%,rgba(32,124,202,1) 51%,rgba(125,185,232,1) 100%);\n  background: linear-gradient(to bottom,  rgba(59,103,158,1) 0%,rgba(43,136,217,1) 50%,rgba(32,124,202,1) 51%,rgba(125,185,232,1) 100%);\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3b679e', endColorstr='#7db9e8',GradientType=0 );\n\n  color: white;\n  padding: 20px;\n  font-weight: 700;\n  opacity: 0.8;\n  margin-bottom: 0;\n}\n\n#content {\n  background-color: white;\n  border-bottom-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n  padding: 30px;\n  margin-bottom: 20px;  \n  \n  min-height: 40rem;\n  padding-bottom: 120px;\n}\n\n.container {\n  padding: 0;\n  border-bottom-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n\n  box-shadow: 0px 0px 25px 0px rgba(0,0,0,0.35);\n  -webkit-box-shadow: 0px 0px 25px 0px rgba(0,0,0,0.35);\n  -moz-box-shadow: 0px 0px 25px 0px rgba(0,0,0,0.35);\n}\n\n.question {\n  min-height: 35rem;\n}\n\n.section {\n  padding-top: 80px;\n}\n\n.chart{\n display: none;\n}\n\n.card-header {\n  font-variant: small-caps;\n}\n\n.card-body {\n  min-height: 15rem;\n}\n\n\n.input-group-append .input-group-text {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n</style>\n\n\n\n\n<script>\n\n// @ is an alias to /src\n//import HomeForm from '@/components/HomeForm.vue'\nimport { ref } from \"vue\";\n\nconst options1 = ref({});\nconst series1 = ref([]);\nconst options2 = ref({});\nconst series2 = ref([]);\nconst options3 = ref({});\nconst series3 = ref([]);\n\nexport default {\n  name: 'HomeView',\n  components: {\n    //HomeForm\n  },\n  \n  methods: {\n     async submitData () {\n\n      if (document.querySelector('input[name=\"experience\"]').value == \"\") {\n        alert(\"Please enter your experience.\");\n      }\n      else if (document.querySelector('select[name=\"language\"]').value == \"\") {\n        alert(\"Please enter your preferred language.\");\n      }\n      else {\n        var response = await fetch('/api/submit', {\n            method: \"POST\",\n            // Set the headers\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            // Set the post data\n            body: JSON.stringify({\n                gender : document.querySelector('input[name=\"gender\"]:checked').value,\n                experience : document.querySelector('input[name=\"experience\"]').value,\n                language : document.querySelector('select[name=\"language\"]').value,\n                windows : document.querySelector('input[name=\"windows\"]').value,\n                linux : document.querySelector('input[name=\"linux\"]').value,\n                macos : document.querySelector('input[name=\"macos\"]').value\n            })\n          });\n\n        if (response.ok) {\n          this.loadCharts();\n\n\n          let container = document.getElementById('one');\n          document.onwheel = function() {\n            document.body.parentNode.scrollTo({\n              top: container.offsetTop,\n              left: 0,\n              behavior: 'smooth'\n            });\n          };\n\n        }\n\n\n\n      }\n    },\n\n\n    loadCharts() {\n        this.loadChartLanguage(false);\n        this.loadChartExperience();\n        this.loadChartFamiliarity();\n\n        const nodeList = document.querySelectorAll('.chart');\n        for (let i = 0; i < nodeList.length; i++) {\n          nodeList[i].style.display = \"block\";\n        }\n        \n    },\n\n\n\n    async loadChartLanguage(update) {\n      var filter = document.querySelector('select[name=\"filter\"]').value;\n      \n      var response1 = await fetch(\"/api/chart/language/\" + filter);\n\n      if (response1.ok) {\n        var language = await response1.json();\n        series1.value = language.map(a => a.count);\n\n        if (update != true) {\n          options1.value = { \n            labels: language.map(a => a._id),\n            title: {\n              text: \"Surveyed Users' Preferred Language\"\n            },\n          };\n        }\n      }\n    },\n\n    async loadChartExperience() {\n      var response2 = await fetch(\"/api/chart/experience/\");\n\n      if (response2.ok) {\n        var experience = await response2.json();\n        options2.value = { \n          series: [{\n            name: 'Experience',\n            data: experience.map(a => a.count)\n          }],\n          xaxis: {\n            title: {\n              text: 'Experience (years)'\n            },\n            categories: experience.map(a => (a._id*5).toString() +\"-\"+(a._id*5+4).toString())\n          },\n          yaxis: {\n            title: {\n              text: 'Number of users'\n            }\n          },\n          title: {\n              text: 'Experience of Surveyed Users',\n              align: 'center',\n          }\n        };\n      }\n    },\n\n\n    async loadChartFamiliarity() {\n      var response3 = await fetch(\"/api/chart/familiarity/\");\n\n      if (response3.ok) {\n        var familiarity = await response3.json();\n        console.log(familiarity);\n        options3.value = { \n          series: [{\n            name: 'Familiarity',\n            data: [familiarity[0].Windows, familiarity[0].Linux, familiarity[0].MacOS]\n          }],\n          xaxis: {\n            categories: [\"Windows\", \"Linux\", \"MacOS\"]\n          },\n          title: {\n              text: 'Familiarity with Different Operating Systems Among Surveyed Users'\n          }\n        };\n      }\n    }\n\n\n  },\n\n\n\n  setup() {\n      return {\n        options1, series1, options2, series2, options3, series3\n      }\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}